---
import AuthLayout from "../layouts/AuthLayout.astro";
import Arrow from "../components/Icons/Arrow.astro";

const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

// if the user is logged in, redirect to dashboard
if (accessToken && refreshToken) {
  return redirect("/dashboard");
}
---

<AuthLayout title="Forgot Password">
  <form action="/api/auth/forgot" method="post" class="pt-3">
    <div class="field">
      <label for="email">Email</label>
      <input type="email" name="email" id="email" placeholder="" />
    </div>
    <button
      type="submit"
      class="flex items-center uppercase bg-white font-mono rounded-full w-full text-black justify-center gap-4 pl-10 h-16 text-2xl leading-none hover:bg-springBud mb-16"
      >submit
      <Arrow />
    </button>
    <p class="text-center">
      Ready to <a
        href="/login"
        class="border-b-battleshipGray border-b-2 hover:text-springBud"
        >LOGIN?</a
      >
    </p>
  </form>
</AuthLayout>
