---
import AuthLayout from "../layouts/AuthLayout.astro";
import Arrow from "../components/Icons/Arrow.astro";

const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

// if the user is logged in, redirect to all updates
if (accessToken && refreshToken) {
  return redirect("/updates/all");
}
---

<AuthLayout title="Forgot Password">
  <form action="/api/auth/forgot" method="post" class="pt-3">
    <div class="field">
      <label for="email">Email</label>
      <input type="email" name="email" id="email" placeholder="" />
    </div>
    <button type="submit" class="auth-button"
      >submit
      <Arrow />
    </button>
    <p class="text-center">
      Ready to <a
        href="/login"
        class="border-b-battleshipGray border-b-2 hover:text-springBud"
        >LOGIN?</a
      >
    </p>
  </form>
</AuthLayout>
